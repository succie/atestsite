<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Microsoft Clarity テストサイト</title>
  <script type="text/javascript">
    (function(c,l,a,r,i,t,y){
        c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
        t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
        y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
    })(window, document, "clarity", "script", "sjt8px4zd6");
</script>
<script>
  window.clarity('set', 'pageID', 'index');
</script>
<script src="https://js.ptengine.jp/448y81wd.js"></script>
<script type="text/javascript">
  window._mfq = window._mfq || [];
  (function() {
    var mf = document.createElement("script");
    mf.type = "text/javascript"; mf.defer = true;
    mf.src = "//cdn.mouseflow.com/projects/f1531bc1-b213-48e2-bb74-808f9d9206fd.js";
    document.getElementsByTagName("head")[0].appendChild(mf);
  })();
</script>

  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      margin: 0;
      padding: 20px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      color: #333;
    }
    .container {
      max-width: 1200px;
      margin: 0 auto;
      background: white;
      border-radius: 15px;
      padding: 30px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.2);
    }
    .header {
      text-align: center;
      margin-bottom: 40px;
      padding: 20px;
      background: linear-gradient(45deg, #ff6b6b, #feca57);
      border-radius: 10px;
      color: white;
    }
    .button-group {
      display: flex;
      gap: 15px;
      flex-wrap: wrap;
      justify-content: center;
      margin: 30px 0;
    }
    .btn {
      padding: 12px 24px;
      border: none;
      border-radius: 25px;
      cursor: pointer;
      font-size: 16px;
      font-weight: bold;
      transition: all 0.3s ease;
      text-decoration: none;
      display: inline-block;
    }
    .btn-primary { background: #3498db; color: white; }
    .btn-success { background: #2ecc71; color: white; }
    .btn-warning { background: #f39c12; color: white; }
    .btn-danger { background: #e74c3c; color: white; }
    .btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(0,0,0,0.2);
    }
    .form-section {
      background: #f8f9fa;
      padding: 25px;
      border-radius: 10px;
      margin: 30px 0;
    }
    .form-group {
      margin-bottom: 20px;
    }
    label {
      display: block;
      margin-bottom: 5px;
      font-weight: bold;
      color: #555;
    }
    input, select, textarea {
      width: 100%;
      padding: 12px;
      border: 2px solid #ddd;
      border-radius: 5px;
      font-size: 16px;
      transition: border-color 0.3s ease;
    }
    input:focus, select:focus, textarea:focus {
      outline: none;
      border-color: #3498db;
    }
    .interactive-section {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 20px;
      margin: 30px 0;
    }
    .card {
      background: white;
      border-radius: 10px;
      padding: 20px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.1);
      border: 1px solid #eee;
      transition: transform 0.3s ease;
    }
    .card:hover {
      transform: translateY(-5px);
    }
    .navigation-menu {
      background: #2c3e50;
      padding: 15px;
      border-radius: 10px;
      margin-bottom: 30px;
    }
    .nav-link {
      color: white;
      text-decoration: none;
      padding: 10px 20px;
      margin: 0 10px;
      border-radius: 5px;
      transition: background-color 0.3s ease;
    }
    .nav-link:hover {
      background-color: #34495e;
    }
    .content-area {
      min-height: 400px;
      padding: 20px;
      background: #ecf0f1;
      border-radius: 10px;
      margin: 20px 0;
    }
    .image-gallery {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 15px;
      margin: 20px 0;
    }
    .image-placeholder {
      height: 150px;
      background: linear-gradient(45deg, #74b9ff, #0984e3);
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-weight: bold;
      cursor: pointer;
      transition: transform 0.3s ease;
    }
    .image-placeholder:hover {
      transform: scale(1.05);
    }
    .slider-container {
      margin: 30px 0;
      padding: 20px;
      background: #fff;
      border-radius: 10px;
      border: 1px solid #ddd;
    }
    .slider {
      width: 100%;
      margin: 20px 0;
    }
    .modal {
      display: none;
      position: fixed;
      z-index: 1000;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0,0,0,0.5);
    }
    .modal-content {
      background-color: white;
      margin: 15% auto;
      padding: 20px;
      border-radius: 10px;
      width: 80%;
      max-width: 500px;
    }
    .close {
      color: #aaa;
      float: right;
      font-size: 28px;
      font-weight: bold;
      cursor: pointer;
    }
    .close:hover {
      color: black;
    }
    
    /* ダメなUXスタイル */
    .fake-button {
      padding: 12px 24px;
      border: none;
      border-radius: 25px;
      font-size: 16px;
      font-weight: bold;
      text-decoration: none;
      display: inline-block;
      background: #3498db;
      color: white;
      cursor: pointer;
      transition: all 0.3s ease;
      position: relative;
    }
    
    .fake-button:hover {
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(0,0,0,0.2);
    }
    
    .fake-button.disabled {
      background: #bdc3c7;
      cursor: not-allowed;
      pointer-events: none;
    }
    
    .invisible-clickable {
      position: absolute;
      background: transparent;
      border: none;
      width: 50px;
      height: 50px;
      cursor: pointer;
      z-index: 10;
    }
    
    .loading-button {
      position: relative;
      overflow: hidden;
    }
    
    .loading-button.loading::after {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
      animation: loading-sweep 2s infinite;
    }
    
    @keyframes loading-sweep {
      0% { left: -100%; }
      100% { left: 100%; }
    }
    
    .shake-element {
      animation: shake 0.5s ease-in-out;
    }
    
    @keyframes shake {
      0%, 100% { transform: translateX(0); }
      25% { transform: translateX(-5px); }
      75% { transform: translateX(5px); }
    }
    
    .broken-link {
      color: #3498db;
      text-decoration: underline;
      cursor: pointer;
    }
    
    .broken-link:hover {
      color: #2980b9;
    }
    
    .fake-disabled {
      opacity: 0.6;
      filter: grayscale(50%);
    }
    
    .moving-target {
      transition: all 0.3s ease;
    }
    
    .moving-target:hover {
      transform: translate(20px, 10px);
    }
    
    .bad-ux-section {
      background: #fff3cd;
      border: 1px solid #ffeeba;
      border-radius: 10px;
      padding: 20px;
      margin: 30px 0;
    }
    
    .bad-ux-title {
      color: #856404;
      font-weight: bold;
      margin-bottom: 15px;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>Microsoft Clarity テストサイト</h1>
      <p>ヒートマップとユーザーレコーディングのテスト用サイトです</p>
    </div>

    <nav class="navigation-menu">
      <a href="#home" class="nav-link" onclick="showSection('home')">ホーム</a>
      <a href="#features" class="nav-link" onclick="showSection('features')">機能</a>
      <a href="#contact" class="nav-link" onclick="showSection('contact')">お問い合わせ</a>
      <a href="#gallery" class="nav-link" onclick="showSection('gallery')">ギャラリー</a>
    </nav>

    <div class="button-group">
      <button class="btn btn-primary" onclick="trackClick('primary-button')">プライマリボタン</button>
      <button class="btn btn-success" onclick="trackClick('success-button')">成功ボタン</button>
      <button class="btn btn-warning" onclick="trackClick('warning-button')">警告ボタン</button>
      <button class="btn btn-danger" onclick="trackClick('danger-button')">危険ボタン</button>
      <button class="btn btn-primary" onclick="openModal()">モーダルを開く</button>
      <button class="btn btn-success" onclick="startReservation()">🏪 予約</button>
    </div>

    <div class="form-section">
      <h2>お問い合わせフォーム</h2>
      <form id="contactForm" onsubmit="handleSubmit(event)">
        <div class="form-group">
          <label for="name">お名前</label>
          <input type="text" id="name" name="name" placeholder="お名前を入力してください" required>
        </div>
        <div class="form-group">
          <label for="email">メールアドレス</label>
          <input type="email" id="email" name="email" placeholder="メールアドレスを入力してください" required>
        </div>
        <div class="form-group">
          <label for="category">カテゴリ</label>
          <select id="category" name="category" onchange="trackSelection(this.value)">
            <option value="">選択してください</option>
            <option value="inquiry">お問い合わせ</option>
            <option value="support">サポート</option>
            <option value="feedback">フィードバック</option>
            <option value="other">その他</option>
          </select>
        </div>
        <div class="form-group">
          <label for="message">メッセージ</label>
          <textarea id="message" name="message" rows="5" placeholder="メッセージを入力してください" required></textarea>
        </div>
        <div class="form-group">
          <input type="checkbox" id="newsletter" name="newsletter" onchange="trackCheckbox(this.checked)">
          <label for="newsletter">ニュースレターを受け取る</label>
        </div>
        <button type="submit" class="btn btn-primary">送信</button>
      </form>
    </div>

    <div class="interactive-section">
      <div class="card" onclick="trackCardClick('card1')">
        <h3>カード1</h3>
        <p>これはクリック可能なカードです。ユーザーの行動を追跡します。</p>
        <button class="btn btn-success" onclick="event.stopPropagation(); trackClick('card1-button')">詳細を見る</button>
      </div>
      <div class="card" onclick="trackCardClick('card2')">
        <h3>カード2</h3>
        <p>別のクリック可能なカードです。ヒートマップデータを生成します。</p>
        <button class="btn btn-warning" onclick="event.stopPropagation(); trackClick('card2-button')">もっと見る</button>
      </div>
      <div class="card" onclick="trackCardClick('card3')">
        <h3>カード3</h3>
        <p>3番目のカードです。異なるユーザー行動パターンをテストします。</p>
        <button class="btn btn-danger" onclick="event.stopPropagation(); trackClick('card3-button')">アクション</button>
      </div>
    </div>

    <div class="slider-container">
      <h3>インタラクティブスライダー</h3>
      <p>価格範囲: <span id="priceValue">50000</span>円</p>
      <input type="range" id="priceSlider" class="slider" min="10000" max="100000" value="50000" 
             oninput="updatePrice(this.value)" onchange="trackSlider(this.value)">
      
      <p>満足度: <span id="satisfactionValue">5</span>/10</p>
      <input type="range" id="satisfactionSlider" class="slider" min="1" max="10" value="5"
             oninput="updateSatisfaction(this.value)" onchange="trackSlider(this.value)">
    </div>

    <div class="image-gallery">
      <div class="image-placeholder" onclick="trackImageClick('image1')">画像 1</div>
      <div class="image-placeholder" onclick="trackImageClick('image2')">画像 2</div>
      <div class="image-placeholder" onclick="trackImageClick('image3')">画像 3</div>
      <div class="image-placeholder" onclick="trackImageClick('image4')">画像 4</div>
      <div class="image-placeholder" onclick="trackImageClick('image5')">画像 5</div>
      <div class="image-placeholder" onclick="trackImageClick('image6')">画像 6</div>
    </div>

    <!-- ダメなUXセクション -->
    <div class="bad-ux-section">
      <div class="bad-ux-title">🚨 フラストレーション体験エリア 🚨</div>
      <p>以下の要素はわざと使いにくく作られています。ユーザーのフラストレーションを測定するためのテストです。</p>
      
      <div class="button-group">
        <!-- 押せそうで押せないボタン -->
        <div class="fake-button" onclick="handleFakeButtonClick(this)">
          押せそうで押せない
        </div>
        
        <!-- ローディング中に見えるボタン -->
        <button class="btn btn-primary loading-button" id="loadingBtn" onclick="handleLoadingButton(this)">
          永遠にローディング
        </button>
        
        <!-- クリックすると逃げるボタン -->
        <button class="btn btn-warning moving-target" onmouseenter="moveButton(this)" onclick="trackClick('moving-button')">
          逃げるボタン
        </button>
        
        <!-- 見た目は無効だが実際は有効 -->
        <button class="btn btn-success fake-disabled" onclick="trackClick('fake-disabled-button')">
          無効に見えるボタン
        </button>
      </div>
      
      <div style="position: relative; margin: 20px 0;">
        <p>この文章の中に<span class="broken-link" onclick="handleBrokenLink()">リンクのように見える文字</span>がありますが、クリックしても何も起きません。また、この文章の下には見えないボタンがあります。</p>
        <!-- 見えないクリック可能エリア -->
        <button class="invisible-clickable" style="top: 10px; left: 200px;" onclick="trackClick('invisible-button')" title="隠されたボタン"></button>
      </div>
      
      <!-- 分かりにくいフォーム -->
      <div style="margin: 20px 0;">
        <label>重要な情報（必須）</label>
        <input type="text" placeholder="ここをクリックしてください..." onclick="showFakeError(this)" readonly style="cursor: pointer;">
        <small style="color: #dc3545; display: none;" id="fakeError">エラー: この入力フィールドは現在利用できません</small>
      </div>
      
      <!-- ダブルクリックが必要なボタン -->
      <button class="btn btn-danger" onclick="handleDoubleClickButton(this)" data-clicks="0">
        ダブルクリックが必要
      </button>
      
      <!-- 長時間押し続ける必要があるボタン -->
      <button class="btn btn-info" onmousedown="startLongPress(this)" onmouseup="endLongPress(this)" onmouseleave="endLongPress(this)">
        長押しボタン (3秒)
        <div id="longPressProgress" style="height: 3px; background: #fff; width: 0%; margin-top: 5px; transition: width 0.1s;"></div>
      </button>
    </div>

    <div class="content-area">
      <h2>長いコンテンツエリア</h2>
      <p>このエリアはスクロール行動を測定するための長いコンテンツです。ユーザーがどこまでスクロールするかを確認できます。</p>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
      <p>Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
      <p>Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo.</p>
      <p>Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni dolores eos qui ratione voluptatem sequi nesciunt.</p>
      <p>Neque porro quisquam est, qui dolorem ipsum quia dolor sit amet, consectetur, adipisci velit, sed quia non numquam eius modi tempora incidunt ut labore et dolore magnam aliquam quaerat voluptatem.</p>
      <div class="button-group">
        <button class="btn btn-primary" onclick="trackClick('content-cta1')">今すぐ始める</button>
        <button class="btn btn-success" onclick="trackClick('content-cta2')">詳細を見る</button>
        <a href="#top" class="btn btn-warning" onclick="trackClick('scroll-to-top')">トップに戻る</a>
      </div>
    </div>
  </div>

  <!-- モーダル -->
  <div id="myModal" class="modal">
    <div class="modal-content">
      <span class="close" onclick="closeModal()">&times;</span>
      <h2>モーダルウィンドウ</h2>
      <p>これはモーダルウィンドウです。ユーザーのインタラクションを追跡します。</p>
      <div class="button-group">
        <button class="btn btn-primary" onclick="trackClick('modal-confirm')">確認</button>
        <button class="btn btn-danger" onclick="closeModal(); trackClick('modal-cancel')">キャンセル</button>
      </div>
    </div>
  </div>

  <script>
    function trackClick(element) {
      console.log('Clicked:', element);
      if (window.clarity) {
        clarity('event', 'click', { element: element });
      }
      alert(`${element} がクリックされました！`);
    }

    function trackCardClick(cardId) {
      console.log('Card clicked:', cardId);
      if (window.clarity) {
        clarity('event', 'card_click', { card: cardId });
      }
    }

    function trackImageClick(imageId) {
      console.log('Image clicked:', imageId);
      if (window.clarity) {
        clarity('event', 'image_click', { image: imageId });
      }
    }

    function trackSelection(value) {
      console.log('Selection changed:', value);
      if (window.clarity) {
        clarity('event', 'selection_change', { value: value });
      }
    }

    function trackCheckbox(checked) {
      console.log('Checkbox changed:', checked);
      if (window.clarity) {
        clarity('event', 'checkbox_change', { checked: checked });
      }
    }

    function trackSlider(value) {
      console.log('Slider changed:', value);
      if (window.clarity) {
        clarity('event', 'slider_change', { value: value });
      }
    }

    function updatePrice(value) {
      document.getElementById('priceValue').textContent = parseInt(value).toLocaleString();
    }

    function updateSatisfaction(value) {
      document.getElementById('satisfactionValue').textContent = value;
    }

    function handleSubmit(event) {
      event.preventDefault();
      const formData = new FormData(event.target);
      const data = Object.fromEntries(formData);
      console.log('Form submitted:', data);
      
      if (window.clarity) {
        clarity('event', 'form_submit', { 
          category: data.category,
          newsletter: data.newsletter ? 'yes' : 'no'
        });
      }
      
      alert('フォームが送信されました！\n' + JSON.stringify(data, null, 2));
    }

    function openModal() {
      document.getElementById('myModal').style.display = 'block';
      if (window.clarity) {
        clarity('event', 'modal_open');
      }
    }

    function closeModal() {
      document.getElementById('myModal').style.display = 'none';
      if (window.clarity) {
        clarity('event', 'modal_close');
      }
    }

    function showSection(sectionName) {
      console.log('Navigation:', sectionName);
      if (window.clarity) {
        clarity('event', 'navigation', { section: sectionName });
      }
    }

    // スクロール追跡
    let scrollTimeout;
    window.addEventListener('scroll', function() {
      clearTimeout(scrollTimeout);
      scrollTimeout = setTimeout(function() {
        const scrollPercent = Math.round((window.scrollY / (document.body.scrollHeight - window.innerHeight)) * 100);
        console.log('Scroll depth:', scrollPercent + '%');
        
        if (window.clarity) {
          clarity('event', 'scroll_depth', { percent: scrollPercent });
        }
      }, 250);
    });

    // ページロード完了の追跡
    window.addEventListener('load', function() {
      if (window.clarity) {
        clarity('event', 'page_loaded');
      }
      console.log('Page fully loaded');
    });

    // モーダル外クリックで閉じる
    window.onclick = function(event) {
      const modal = document.getElementById('myModal');
      if (event.target == modal) {
        closeModal();
      }
    }

    // ダメなUX関数群
    function handleFakeButtonClick(element) {
      // 3回クリックした後に無効化
      if (!element.dataset.clicks) element.dataset.clicks = 0;
      element.dataset.clicks = parseInt(element.dataset.clicks) + 1;
      
      if (element.dataset.clicks < 3) {
        element.classList.add('shake-element');
        setTimeout(() => element.classList.remove('shake-element'), 500);
        trackFrustration('fake-button-click', { clicks: element.dataset.clicks });
      } else {
        element.classList.add('disabled');
        element.textContent = '無効化されました';
        trackFrustration('fake-button-disabled', { totalClicks: element.dataset.clicks });
      }
    }

    function handleLoadingButton(element) {
      element.classList.add('loading');
      element.disabled = true;
      element.textContent = 'ローディング中...';
      
      trackFrustration('loading-button-click', {});
      
      // 永遠にローディング（実際は10秒後にリセット）
      setTimeout(() => {
        element.classList.remove('loading');
        element.disabled = false;
        element.textContent = '永遠にローディング';
      }, 10000);
    }

    function moveButton(element) {
      const randomX = Math.random() * 100 - 50;
      const randomY = Math.random() * 50 - 25;
      element.style.transform = `translate(${randomX}px, ${randomY}px)`;
      trackFrustration('button-moved', { x: randomX, y: randomY });
    }

    function handleBrokenLink() {
      trackFrustration('broken-link-click', {});
      // 何も起きない - これがフラストレーションポイント
    }

    function showFakeError(element) {
      document.getElementById('fakeError').style.display = 'block';
      element.style.borderColor = '#dc3545';
      trackFrustration('fake-error-triggered', {});
    }

    function handleDoubleClickButton(element) {
      const clicks = parseInt(element.dataset.clicks) + 1;
      element.dataset.clicks = clicks;
      
      if (clicks === 1) {
        element.textContent = 'もう一度クリック！';
        trackFrustration('double-click-first', {});
        setTimeout(() => {
          if (element.dataset.clicks === '1') {
            element.textContent = 'ダブルクリックが必要';
            element.dataset.clicks = '0';
          }
        }, 3000);
      } else if (clicks >= 2) {
        element.textContent = '成功！';
        element.style.background = '#2ecc71';
        trackClick('double-click-success');
        setTimeout(() => {
          element.textContent = 'ダブルクリックが必要';
          element.style.background = '#e74c3c';
          element.dataset.clicks = '0';
        }, 2000);
      }
    }

    let longPressTimer;
    let longPressProgress;

    function startLongPress(element) {
      let progress = 0;
      const progressBar = document.getElementById('longPressProgress');
      
      longPressTimer = setInterval(() => {
        progress += 100/30; // 3秒で100%
        progressBar.style.width = Math.min(progress, 100) + '%';
        
        if (progress >= 100) {
          clearInterval(longPressTimer);
          element.textContent = '長押し成功！';
          element.style.background = '#2ecc71';
          trackClick('long-press-success');
          
          setTimeout(() => {
            element.textContent = '長押しボタン (3秒)';
            element.style.background = '#17a2b8';
            progressBar.style.width = '0%';
          }, 2000);
        }
      }, 100);
      
      trackFrustration('long-press-start', {});
    }

    function endLongPress(element) {
      if (longPressTimer) {
        clearInterval(longPressTimer);
        longPressTimer = null;
        document.getElementById('longPressProgress').style.width = '0%';
        trackFrustration('long-press-cancelled', {});
      }
    }

    function trackFrustration(action, data) {
      console.log('Frustration event:', action, data);
      if (window.clarity) {
        clarity('event', 'frustration', { 
          action: action, 
          ...data,
          timestamp: Date.now()
        });
      }
    }

    // 予約フロー開始
    function startReservation() {
      console.log('Reservation flow started');
      if (window.clarity) {
        clarity('event', 'reservation_start');
      }
      window.location.href = 'store-selection.html';
    }
  </script>
</body>
</html>
